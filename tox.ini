[tox]
envlist = py37,py38,py39
isolated_build = True

[testenv]
passenv = *
skipdist=True
skip_install=True
allowlist_externals =
    bash 
    make 
    cmake 
    git
    vcpkg
deps = 
    tqdm
    pytest
    numpy
    matrixprofile
    stumpy
    wheel
    setuptools
    auditwheel
commands = 
    python setup.py bdist_wheel -v
    find ./dist -exec bash -c "sha256sum '{:}' > '{:}'.sha" \;
    pip install --no-index --pre --find-links=dist/ shapelets-compute 
    shapelets-compute install cpu
    shapelets-compute install opencl
    ls
    ls dist
    # pytest
